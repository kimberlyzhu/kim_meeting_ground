{"ast":null,"code":"var _jsxFileName = \"/Users/kimberlyzhu/Documents/MeetingGround/src/pages/calendar_test.js\";\nimport React, { Component } from \"react\";\nimport { injectTapEventPlugin } from \"react-tap-event-plugin\";\nimport axios from \"axios\";\nimport async from \"async\";\nimport moment from \"moment\";\nimport AppBar from \"material-ui/AppBar\";\nimport Drawer from \"material-ui/Drawer\";\nimport Dialog from \"material-ui/Dialog\";\nimport Divider from \"material-ui/Divider\";\nimport MenuItem from \"material-ui/MenuItem\";\nimport Card from \"material-ui/Card\";\nimport DatePicker from \"material-ui/DatePicker\";\nimport TimePicker from \"material-ui/TimePicker\";\nimport TextField from \"material-ui/TextField\";\nimport SelectField from \"material-ui/SelectField\";\nimport SnackBar from \"material-ui/Snackbar\";\nimport { Step, Stepper, StepLabel, StepContent, StepButton } from \"material-ui/stepper\";\nimport { RadioButton, RadioButtonGroup } from \"material-ui/RadioButton\";\nimport RaisedButton from \"material-ui/RaisedButton\"; // import FlatButton from \"material-ui/FlatButton\";\n\nimport { FlatButton } from \"material-ui\";\nimport logo from \"./../../assets/images/logo.svg\";\ninjectTapEventPlugin(); // const HOST = PRODUCTION ? \"/\" : \"http://localhost:3000/\";\n\nconst HOST = \"http://localhost:3000/\";\nexport default class calendar_test extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      navOpen: false,\n      confirmationModalOpen: false,\n      confirmationTextVisible: false,\n      stepIndex: 0,\n      appointmentDateSelected: false,\n      appointmentMeridiem: 0,\n      validEmail: true,\n      validPhone: true,\n      smallScreen: window.innerWidth < 768,\n      confirmationSnackbarOpen: false\n    };\n    this.handleNavToggle = this.handleNavToggle.bind(this);\n    this.handleNextStep = this.handleNextStep.bind(this);\n    this.handleSetAppointmentDate = this.handleSetAppointmentDate.bind(this);\n    this.handleSetAppointmentSlot = this.handleSetAppointmentSlot.bind(this);\n    this.handleSetAppointmentMeridiem = this.handleSetAppointmentMeridiem.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.validateEmail = this.validateEmail.bind(this);\n    this.validatePhone = this.validatePhone.bind(this);\n    this.checkDisableDate = this.checkDisableDate.bind(this);\n    this.renderAppointmentTimes = this.renderAppointmentTimes.bind(this);\n    this.renderConfirmationString = this.renderConfirmationString.bind(this);\n    this.renderAppointmentConfirmation = this.renderAppointmentConfirmation.bind(this);\n    this.resize = this.resize.bind(this);\n  }\n\n  handleNavToggle() {\n    return this.setState({\n      navOpen: !this.state.navOpen\n    });\n  }\n\n  handleNextStep() {\n    const {\n      stepIndex\n    } = this.state;\n    return stepIndex < 3 ? this.setState({\n      stepIndex: stepIndex + 1\n    }) : null;\n  }\n\n  handleSetAppointmentDate(date) {\n    this.handleNextStep();\n    this.setState({\n      appointmentDate: date,\n      confirmationTextVisible: true\n    });\n  }\n\n  handleSetAppointmentSlot(slot) {\n    this.handleNextStep();\n    this.setState({\n      appointmentSlot: slot\n    });\n  }\n\n  handleSetAppointmentMeridiem(meridiem) {\n    this.setState({\n      appointmentMeridiem: meridiem\n    });\n  }\n\n  handleFetch(response) {\n    const {\n      configs,\n      appointments\n    } = response;\n    const initSchedule = {};\n    const today = moment().startOf(\"day\");\n    initSchedule[today.format(\"YYYY-DD-MM\")] = true;\n    const schedule = !appointments.length ? initSchedule : appointments.reduce((currentSchedule, appointment) => {\n      const {\n        date,\n        slot\n      } = appointment;\n      const dateString = moment(date, \"YYYY-DD-MM\").format(\"YYYY-DD-MM\");\n\n      if (!currentSchedule[date]) {\n        currentSchedule[dateString] = Array(8).fill(false);\n      }\n\n      if (Array.isArray(currentSchedule[dateString])) {\n        currentSchedule[dateString][slot] = true;\n      }\n\n      return currentSchedule;\n    }, initSchedule); //Imperative x 100, but no regrets\n\n    for (let day in schedule) {\n      let slots = schedule[day]; //   slots.length\n      //     ? slots.every((slot) => slot === true)\n      //       ? (schedule[day] = true)\n      //       : null\n      //     : null;\n    }\n\n    this.setState({\n      schedule,\n      siteTitle: configs.site_title,\n      aboutPageUrl: configs.about_page_url,\n      contactPageUrl: configs.contact_page_url,\n      homePageUrl: configs.home_page_url,\n      loading: false\n    });\n  }\n\n  handleFetchError(err) {\n    console.log(err);\n    this.setState({\n      confirmationSnackbarMessage: \"Error fetching data\",\n      confirmationSnackbarOpen: true\n    });\n  }\n\n  handleSubmit() {\n    const appointment = {\n      date: moment(this.state.appointmentDate).format(\"YYYY-DD-MM\"),\n      slot: this.state.appointmentSlot,\n      name: this.state.firstName + \" \" + this.state.lastName,\n      email: this.state.email,\n      phone: this.state.phone\n    };\n    axios.post(HOST + \"api/appointments\", appointment).then(response => this.setState({\n      confirmationSnackbarMessage: \"Appointment succesfully added!\",\n      confirmationSnackbarOpen: true,\n      processed: true\n    })).catch(err => {\n      console.log(err);\n      return this.setState({\n        confirmationSnackbarMessage: \"Appointment failed to save.\",\n        confirmationSnackbarOpen: true\n      });\n    });\n  }\n\n  validateEmail(email) {\n    const regex = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n    return regex.test(email) ? this.setState({\n      email: email,\n      validEmail: true\n    }) : this.setState({\n      validEmail: false\n    });\n  }\n\n  validatePhone(phoneNumber) {\n    const regex = /^(1\\s|1|)?((\\(\\d{3}\\))|\\d{3})(\\-|\\s)?(\\d{3})(\\-|\\s)?(\\d{4})$/;\n    return regex.test(phoneNumber) ? this.setState({\n      phone: phoneNumber,\n      validPhone: true\n    }) : this.setState({\n      validPhone: false\n    });\n  }\n\n  checkDisableDate(day) {\n    const dateString = moment(day).format(\"YYYY-DD-MM\");\n    return this.state.schedule[dateString] === true || moment(day).startOf(\"day\").diff(moment().startOf(\"day\")) < 0;\n  }\n\n  renderConfirmationString() {\n    const spanStyle = {\n      color: \"#00bcd4\"\n    };\n    return this.state.confirmationTextVisible ? /*#__PURE__*/React.createElement(\"h2\", {\n      style: {\n        textAlign: this.state.smallScreen ? \"center\" : \"left\",\n        color: \"#bdbdbd\",\n        lineHeight: 1.5,\n        padding: \"0 10px\",\n        fontFamily: \"Roboto\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }\n    }, \"Scheduling a\", /*#__PURE__*/React.createElement(\"span\", {\n      style: spanStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202,\n        columnNumber: 25\n      }\n    }, \" 1 hour \"), \"appointment\", \" \", this.state.appointmentDate && /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 15\n      }\n    }, \"on\", \" \", /*#__PURE__*/React.createElement(\"span\", {\n      style: spanStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }\n    }, moment(this.state.appointmentDate).format(\"dddd[,] MMMM Do\"))), \" \", Number.isInteger(this.state.appointmentSlot) && /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 15\n      }\n    }, \"at\", \" \", /*#__PURE__*/React.createElement(\"span\", {\n      style: spanStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 17\n      }\n    }, moment().hour(9).minute(0).add(this.state.appointmentSlot, \"hours\").format(\"h:mm a\"))))) : null;\n  }\n\n  renderAppointmentTimes() {\n    if (!this.state.loading) {\n      const slots = [...Array(8).keys()];\n      return slots.map(slot => {\n        const appointmentDateString = moment(this.state.appointmentDate).format(\"YYYY-DD-MM\");\n        const t1 = moment().hour(9).minute(0).add(slot, \"hours\");\n        const t2 = moment().hour(9).minute(0).add(slot + 1, \"hours\");\n        const scheduleDisabled = this.state.schedule[appointmentDateString] ? this.state.schedule[moment(this.state.appointmentDate).format(\"YYYY-DD-MM\")][slot] : false;\n        const meridiemDisabled = this.state.appointmentMeridiem ? t1.format(\"a\") === \"am\" : t1.format(\"a\") === \"pm\";\n        return /*#__PURE__*/React.createElement(RadioButton, {\n          label: t1.format(\"h:mm a\") + \" - \" + t2.format(\"h:mm a\"),\n          key: slot,\n          value: slot,\n          style: {\n            marginBottom: 15,\n            display: meridiemDisabled ? \"none\" : \"inherit\"\n          },\n          disabled: scheduleDisabled || meridiemDisabled,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 11\n          }\n        });\n      });\n    } else {\n      return null;\n    }\n  }\n\n  renderAppointmentConfirmation() {\n    const spanStyle = {\n      color: \"#00bcd4\"\n    };\n    return /*#__PURE__*/React.createElement(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272,\n        columnNumber: 9\n      }\n    }, \"Name:\", \" \", /*#__PURE__*/React.createElement(\"span\", {\n      style: spanStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 11\n      }\n    }, this.state.firstName, \" \", this.state.lastName)), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }\n    }, \"Number: \", /*#__PURE__*/React.createElement(\"span\", {\n      style: spanStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 19\n      }\n    }, this.state.phone)), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }\n    }, \"Email: \", /*#__PURE__*/React.createElement(\"span\", {\n      style: spanStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 18\n      }\n    }, this.state.email)), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }\n    }, \"Appointment:\", \" \", /*#__PURE__*/React.createElement(\"span\", {\n      style: spanStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 11\n      }\n    }, moment(this.state.appointmentDate).format(\"dddd[,] MMMM Do[,] YYYY\")), \" \", \"at\", \" \", /*#__PURE__*/React.createElement(\"span\", {\n      style: spanStyle,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 11\n      }\n    }, moment().hour(9).minute(0).add(this.state.appointmentSlot, \"hours\").format(\"h:mm a\"))));\n  }\n\n  resize() {\n    this.setState({\n      smallScreen: window.innerWidth < 768\n    });\n  }\n\n  componentWillMount() {\n    async.series({\n      configs(callback) {\n        axios.get(HOST + \"api/config\").then(res => callback(null, res.data.data));\n      },\n\n      appointments(callback) {\n        axios.get(HOST + \"api/appointments\").then(res => {\n          callback(null, res.data.data);\n        });\n      }\n\n    }, (err, response) => {\n      err ? this.handleFetchError(err) : this.handleFetch(response);\n    }); //addEventListener(\"resize\", this.resize);\n  } //   componentWillUnmount() {\n  //     removeEventListener(\"resize\", this.resize);\n  //   }\n\n\n  render() {\n    const {\n      stepIndex,\n      loading,\n      navOpen,\n      smallScreen,\n      confirmationModalOpen,\n      confirmationSnackbarOpen,\n      ...data\n    } = this.state;\n    const contactFormFilled = data.firstName && data.lastName && data.phone && data.email && data.validPhone && data.validEmail;\n    const modalActions = [/*#__PURE__*/React.createElement(FlatButton, {\n      label: \"Cancel\",\n      primary: false,\n      onClick: () => this.setState({\n        confirmationModalOpen: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(FlatButton, {\n      label: \"Confirm\",\n      primary: true,\n      onClick: () => this.handleSubmit(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 356,\n        columnNumber: 7\n      }\n    })];\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(AppBar, {\n      title: data.siteTitle,\n      onLeftIconButtonTouchTap: () => this.handleNavToggle(),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Drawer, {\n      docked: false,\n      width: 300,\n      open: navOpen,\n      onRequestChange: navOpen => this.setState({\n        navOpen\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: logo,\n      style: {\n        height: 70,\n        marginTop: 50,\n        marginBottom: 30,\n        marginLeft: \"50%\",\n        transform: \"translateX(-50%)\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 374,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"a\", {\n      style: {\n        textDecoration: \"none\"\n      },\n      href: this.state.homePageUrl,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 13\n      }\n    }, \"Home\")), /*#__PURE__*/React.createElement(\"a\", {\n      style: {\n        textDecoration: \"none\"\n      },\n      href: this.state.aboutPageUrl,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 387,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 13\n      }\n    }, \"About\")), /*#__PURE__*/React.createElement(\"a\", {\n      style: {\n        textDecoration: \"none\"\n      },\n      href: this.state.contactPageUrl,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 390,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 394,\n        columnNumber: 13\n      }\n    }, \"Contact\")), /*#__PURE__*/React.createElement(MenuItem, {\n      disabled: true,\n      style: {\n        marginLeft: \"50%\",\n        transform: \"translate(-50%)\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 11\n      }\n    }, \"© Copyright \" + moment().format(\"YYYY\"))), /*#__PURE__*/React.createElement(\"section\", {\n      style: {\n        maxWidth: !smallScreen ? \"80%\" : \"100%\",\n        margin: \"auto\",\n        marginTop: !smallScreen ? 20 : 0\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 407,\n        columnNumber: 9\n      }\n    }, this.renderConfirmationString(), /*#__PURE__*/React.createElement(Card, {\n      style: {\n        padding: \"10px 10px 25px 10px\",\n        height: smallScreen ? \"100vh\" : null\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 415,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Stepper, {\n      activeStep: stepIndex,\n      linear: false,\n      orientation: \"vertical\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 421,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Step, {\n      disabled: loading,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(StepButton, {\n      onClick: () => this.setState({\n        stepIndex: 0\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 427,\n        columnNumber: 17\n      }\n    }, \"Choose an available day for your appointment\"), /*#__PURE__*/React.createElement(StepContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(DatePicker, {\n      style: {\n        marginTop: 10,\n        marginLeft: 10\n      },\n      value: data.appointmentDate,\n      hintText: \"Select a date\",\n      mode: smallScreen ? \"portrait\" : \"landscape\",\n      onChange: (n, date) => this.handleSetAppointmentDate(date),\n      shouldDisableDate: day => this.checkDisableDate(day),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 19\n      }\n    }))), /*#__PURE__*/React.createElement(Step, {\n      disabled: !data.appointmentDate,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(StepButton, {\n      onClick: () => this.setState({\n        stepIndex: 1\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 17\n      }\n    }, \"Choose an available time for your appointment\"), /*#__PURE__*/React.createElement(StepContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(SelectField, {\n      floatingLabelText: \"AM or PM\",\n      value: data.appointmentMeridiem,\n      onChange: (evt, key, payload) => this.handleSetAppointmentMeridiem(payload),\n      selectionRenderer: value => value ? \"PM\" : \"AM\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(MenuItem, {\n      value: 0,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 21\n      }\n    }, \"AM\"), /*#__PURE__*/React.createElement(MenuItem, {\n      value: 1,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 21\n      }\n    }, \"PM\")), /*#__PURE__*/React.createElement(RadioButtonGroup, {\n      style: {\n        marginTop: 15,\n        marginLeft: 15\n      },\n      name: \"appointmentTimes\",\n      defaultSelected: data.appointmentSlot,\n      onChange: (evt, val) => this.handleSetAppointmentSlot(val),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 19\n      }\n    }, this.renderAppointmentTimes()))), /*#__PURE__*/React.createElement(Step, {\n      disabled: !Number.isInteger(this.state.appointmentSlot),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 470,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(StepButton, {\n      onClick: () => this.setState({\n        stepIndex: 2\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 17\n      }\n    }, \"Share your contact information with us and we'll send you a reminder\"), /*#__PURE__*/React.createElement(StepContent, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"section\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 19\n      }\n    }, /*#__PURE__*/React.createElement(TextField, {\n      style: {\n        display: \"block\"\n      },\n      name: \"first_name\",\n      hintText: \"First Name\",\n      floatingLabelText: \"First Name\",\n      onChange: (evt, newValue) => this.setState({\n        firstName: newValue\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      style: {\n        display: \"block\"\n      },\n      name: \"last_name\",\n      hintText: \"Last Name\",\n      floatingLabelText: \"Last Name\",\n      onChange: (evt, newValue) => this.setState({\n        lastName: newValue\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      style: {\n        display: \"block\"\n      },\n      name: \"email\",\n      hintText: \"name@mail.com\",\n      floatingLabelText: \"Email\",\n      errorText: data.validEmail ? null : \"Enter a valid email address\",\n      onChange: (evt, newValue) => this.validateEmail(newValue),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(TextField, {\n      style: {\n        display: \"block\"\n      },\n      name: \"phone\",\n      hintText: \"(888) 888-8888\",\n      floatingLabelText: \"Phone\",\n      errorText: data.validPhone ? null : \"Enter a valid phone number\",\n      onChange: (evt, newValue) => this.validatePhone(newValue),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 505,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(RaisedButton, {\n      style: {\n        display: \"block\"\n      },\n      label: contactFormFilled ? \"Schedule\" : \"Fill out your information to schedule\",\n      labelPosition: \"before\",\n      primary: true,\n      fullWidth: true,\n      onClick: () => this.setState({\n        confirmationModalOpen: !this.state.confirmationModalOpen\n      }),\n      disabled: !contactFormFilled || data.processed,\n      style: {\n        marginTop: 20,\n        maxWidth: 100\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 515,\n        columnNumber: 21\n      }\n    })))))), /*#__PURE__*/React.createElement(Dialog, {\n      modal: true,\n      open: confirmationModalOpen,\n      actions: modalActions,\n      title: \"Confirm your appointment\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 539,\n        columnNumber: 11\n      }\n    }, this.renderAppointmentConfirmation()), /*#__PURE__*/React.createElement(SnackBar, {\n      open: confirmationSnackbarOpen || loading,\n      message: loading ? \"Loading... \" : data.confirmationSnackbarMessage || \"\",\n      autoHideDuration: 10000,\n      onRequestClose: () => this.setState({\n        confirmationSnackbarOpen: false\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 547,\n        columnNumber: 11\n      }\n    })));\n  }\n\n}","map":{"version":3,"sources":["/Users/kimberlyzhu/Documents/MeetingGround/src/pages/calendar_test.js"],"names":["React","Component","injectTapEventPlugin","axios","async","moment","AppBar","Drawer","Dialog","Divider","MenuItem","Card","DatePicker","TimePicker","TextField","SelectField","SnackBar","Step","Stepper","StepLabel","StepContent","StepButton","RadioButton","RadioButtonGroup","RaisedButton","FlatButton","HOST","calendar_test","constructor","state","loading","navOpen","confirmationModalOpen","confirmationTextVisible","stepIndex","appointmentDateSelected","appointmentMeridiem","validEmail","validPhone","smallScreen","window","innerWidth","confirmationSnackbarOpen","handleNavToggle","bind","handleNextStep","handleSetAppointmentDate","handleSetAppointmentSlot","handleSetAppointmentMeridiem","handleSubmit","validateEmail","validatePhone","checkDisableDate","renderAppointmentTimes","renderConfirmationString","renderAppointmentConfirmation","resize","setState","date","appointmentDate","slot","appointmentSlot","meridiem","handleFetch","response","configs","appointments","initSchedule","today","startOf","format","schedule","length","reduce","currentSchedule","appointment","dateString","Array","fill","isArray","day","slots","siteTitle","site_title","aboutPageUrl","about_page_url","contactPageUrl","contact_page_url","homePageUrl","home_page_url","handleFetchError","err","console","log","confirmationSnackbarMessage","name","firstName","lastName","email","phone","post","then","processed","catch","regex","test","phoneNumber","diff","spanStyle","color","textAlign","lineHeight","padding","fontFamily","Number","isInteger","hour","minute","add","keys","map","appointmentDateString","t1","t2","scheduleDisabled","meridiemDisabled","marginBottom","display","componentWillMount","series","callback","get","res","data","render","contactFormFilled","modalActions","logo","height","marginTop","marginLeft","transform","textDecoration","maxWidth","margin","n","evt","key","payload","value","val","newValue"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport { injectTapEventPlugin } from \"react-tap-event-plugin\";\nimport axios from \"axios\";\nimport async from \"async\";\nimport moment from \"moment\";\nimport AppBar from \"material-ui/AppBar\";\nimport Drawer from \"material-ui/Drawer\";\nimport Dialog from \"material-ui/Dialog\";\nimport Divider from \"material-ui/Divider\";\nimport MenuItem from \"material-ui/MenuItem\";\nimport Card from \"material-ui/Card\";\nimport DatePicker from \"material-ui/DatePicker\";\nimport TimePicker from \"material-ui/TimePicker\";\nimport TextField from \"material-ui/TextField\";\nimport SelectField from \"material-ui/SelectField\";\nimport SnackBar from \"material-ui/Snackbar\";\nimport {\n  Step,\n  Stepper,\n  StepLabel,\n  StepContent,\n  StepButton,\n} from \"material-ui/stepper\";\nimport { RadioButton, RadioButtonGroup } from \"material-ui/RadioButton\";\nimport RaisedButton from \"material-ui/RaisedButton\";\n// import FlatButton from \"material-ui/FlatButton\";\nimport { FlatButton } from \"material-ui\";\nimport logo from \"./../../assets/images/logo.svg\";\n\ninjectTapEventPlugin();\n// const HOST = PRODUCTION ? \"/\" : \"http://localhost:3000/\";\nconst HOST = \"http://localhost:3000/\";\n\nexport default class calendar_test extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      navOpen: false,\n      confirmationModalOpen: false,\n      confirmationTextVisible: false,\n      stepIndex: 0,\n      appointmentDateSelected: false,\n      appointmentMeridiem: 0,\n      validEmail: true,\n      validPhone: true,\n      smallScreen: window.innerWidth < 768,\n      confirmationSnackbarOpen: false,\n    };\n\n    this.handleNavToggle = this.handleNavToggle.bind(this);\n    this.handleNextStep = this.handleNextStep.bind(this);\n    this.handleSetAppointmentDate = this.handleSetAppointmentDate.bind(this);\n    this.handleSetAppointmentSlot = this.handleSetAppointmentSlot.bind(this);\n    this.handleSetAppointmentMeridiem = this.handleSetAppointmentMeridiem.bind(\n      this\n    );\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.validateEmail = this.validateEmail.bind(this);\n    this.validatePhone = this.validatePhone.bind(this);\n    this.checkDisableDate = this.checkDisableDate.bind(this);\n    this.renderAppointmentTimes = this.renderAppointmentTimes.bind(this);\n    this.renderConfirmationString = this.renderConfirmationString.bind(this);\n    this.renderAppointmentConfirmation = this.renderAppointmentConfirmation.bind(\n      this\n    );\n    this.resize = this.resize.bind(this);\n  }\n\n  handleNavToggle() {\n    return this.setState({ navOpen: !this.state.navOpen });\n  }\n\n  handleNextStep() {\n    const { stepIndex } = this.state;\n    return stepIndex < 3 ? this.setState({ stepIndex: stepIndex + 1 }) : null;\n  }\n\n  handleSetAppointmentDate(date) {\n    this.handleNextStep();\n    this.setState({ appointmentDate: date, confirmationTextVisible: true });\n  }\n\n  handleSetAppointmentSlot(slot) {\n    this.handleNextStep();\n    this.setState({ appointmentSlot: slot });\n  }\n\n  handleSetAppointmentMeridiem(meridiem) {\n    this.setState({ appointmentMeridiem: meridiem });\n  }\n\n  handleFetch(response) {\n    const { configs, appointments } = response;\n    const initSchedule = {};\n    const today = moment().startOf(\"day\");\n    initSchedule[today.format(\"YYYY-DD-MM\")] = true;\n    const schedule = !appointments.length\n      ? initSchedule\n      : appointments.reduce((currentSchedule, appointment) => {\n          const { date, slot } = appointment;\n          const dateString = moment(date, \"YYYY-DD-MM\").format(\"YYYY-DD-MM\");\n          if (!currentSchedule[date]) {\n            currentSchedule[dateString] = Array(8).fill(false);\n          }\n          if (Array.isArray(currentSchedule[dateString])) {\n            currentSchedule[dateString][slot] = true;\n          }\n          return currentSchedule;\n        }, initSchedule);\n\n    //Imperative x 100, but no regrets\n    for (let day in schedule) {\n      let slots = schedule[day];\n      //   slots.length\n      //     ? slots.every((slot) => slot === true)\n      //       ? (schedule[day] = true)\n      //       : null\n      //     : null;\n    }\n\n    this.setState({\n      schedule,\n      siteTitle: configs.site_title,\n      aboutPageUrl: configs.about_page_url,\n      contactPageUrl: configs.contact_page_url,\n      homePageUrl: configs.home_page_url,\n      loading: false,\n    });\n  }\n\n  handleFetchError(err) {\n    console.log(err);\n    this.setState({\n      confirmationSnackbarMessage: \"Error fetching data\",\n      confirmationSnackbarOpen: true,\n    });\n  }\n\n  handleSubmit() {\n    const appointment = {\n      date: moment(this.state.appointmentDate).format(\"YYYY-DD-MM\"),\n      slot: this.state.appointmentSlot,\n      name: this.state.firstName + \" \" + this.state.lastName,\n      email: this.state.email,\n      phone: this.state.phone,\n    };\n    axios\n      .post(HOST + \"api/appointments\", appointment)\n      .then((response) =>\n        this.setState({\n          confirmationSnackbarMessage: \"Appointment succesfully added!\",\n          confirmationSnackbarOpen: true,\n          processed: true,\n        })\n      )\n      .catch((err) => {\n        console.log(err);\n        return this.setState({\n          confirmationSnackbarMessage: \"Appointment failed to save.\",\n          confirmationSnackbarOpen: true,\n        });\n      });\n  }\n\n  validateEmail(email) {\n    const regex = /^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n    return regex.test(email)\n      ? this.setState({ email: email, validEmail: true })\n      : this.setState({ validEmail: false });\n  }\n\n  validatePhone(phoneNumber) {\n    const regex = /^(1\\s|1|)?((\\(\\d{3}\\))|\\d{3})(\\-|\\s)?(\\d{3})(\\-|\\s)?(\\d{4})$/;\n    return regex.test(phoneNumber)\n      ? this.setState({ phone: phoneNumber, validPhone: true })\n      : this.setState({ validPhone: false });\n  }\n\n  checkDisableDate(day) {\n    const dateString = moment(day).format(\"YYYY-DD-MM\");\n    return (\n      this.state.schedule[dateString] === true ||\n      moment(day).startOf(\"day\").diff(moment().startOf(\"day\")) < 0\n    );\n  }\n\n  renderConfirmationString() {\n    const spanStyle = { color: \"#00bcd4\" };\n    return this.state.confirmationTextVisible ? (\n      <h2\n        style={{\n          textAlign: this.state.smallScreen ? \"center\" : \"left\",\n          color: \"#bdbdbd\",\n          lineHeight: 1.5,\n          padding: \"0 10px\",\n          fontFamily: \"Roboto\",\n        }}\n      >\n        {\n          <span>\n            Scheduling a<span style={spanStyle}> 1 hour </span>\n            appointment{\" \"}\n            {this.state.appointmentDate && (\n              <span>\n                on{\" \"}\n                <span style={spanStyle}>\n                  {moment(this.state.appointmentDate).format(\"dddd[,] MMMM Do\")}\n                </span>\n              </span>\n            )}{\" \"}\n            {Number.isInteger(this.state.appointmentSlot) && (\n              <span>\n                at{\" \"}\n                <span style={spanStyle}>\n                  {moment()\n                    .hour(9)\n                    .minute(0)\n                    .add(this.state.appointmentSlot, \"hours\")\n                    .format(\"h:mm a\")}\n                </span>\n              </span>\n            )}\n          </span>\n        }\n      </h2>\n    ) : null;\n  }\n\n  renderAppointmentTimes() {\n    if (!this.state.loading) {\n      const slots = [...Array(8).keys()];\n      return slots.map((slot) => {\n        const appointmentDateString = moment(this.state.appointmentDate).format(\n          \"YYYY-DD-MM\"\n        );\n        const t1 = moment().hour(9).minute(0).add(slot, \"hours\");\n        const t2 = moment()\n          .hour(9)\n          .minute(0)\n          .add(slot + 1, \"hours\");\n        const scheduleDisabled = this.state.schedule[appointmentDateString]\n          ? this.state.schedule[\n              moment(this.state.appointmentDate).format(\"YYYY-DD-MM\")\n            ][slot]\n          : false;\n        const meridiemDisabled = this.state.appointmentMeridiem\n          ? t1.format(\"a\") === \"am\"\n          : t1.format(\"a\") === \"pm\";\n        return (\n          <RadioButton\n            label={t1.format(\"h:mm a\") + \" - \" + t2.format(\"h:mm a\")}\n            key={slot}\n            value={slot}\n            style={{\n              marginBottom: 15,\n              display: meridiemDisabled ? \"none\" : \"inherit\",\n            }}\n            disabled={scheduleDisabled || meridiemDisabled}\n          />\n        );\n      });\n    } else {\n      return null;\n    }\n  }\n\n  renderAppointmentConfirmation() {\n    const spanStyle = { color: \"#00bcd4\" };\n    return (\n      <section>\n        <p>\n          Name:{\" \"}\n          <span style={spanStyle}>\n            {this.state.firstName} {this.state.lastName}\n          </span>\n        </p>\n        <p>\n          Number: <span style={spanStyle}>{this.state.phone}</span>\n        </p>\n        <p>\n          Email: <span style={spanStyle}>{this.state.email}</span>\n        </p>\n        <p>\n          Appointment:{\" \"}\n          <span style={spanStyle}>\n            {moment(this.state.appointmentDate).format(\n              \"dddd[,] MMMM Do[,] YYYY\"\n            )}\n          </span>{\" \"}\n          at{\" \"}\n          <span style={spanStyle}>\n            {moment()\n              .hour(9)\n              .minute(0)\n              .add(this.state.appointmentSlot, \"hours\")\n              .format(\"h:mm a\")}\n          </span>\n        </p>\n      </section>\n    );\n  }\n\n  resize() {\n    this.setState({ smallScreen: window.innerWidth < 768 });\n  }\n\n  componentWillMount() {\n    async.series(\n      {\n        configs(callback) {\n          axios\n            .get(HOST + \"api/config\")\n            .then((res) => callback(null, res.data.data));\n        },\n        appointments(callback) {\n          axios.get(HOST + \"api/appointments\").then((res) => {\n            callback(null, res.data.data);\n          });\n        },\n      },\n      (err, response) => {\n        err ? this.handleFetchError(err) : this.handleFetch(response);\n      }\n    );\n    //addEventListener(\"resize\", this.resize);\n  }\n\n  //   componentWillUnmount() {\n  //     removeEventListener(\"resize\", this.resize);\n  //   }\n\n  render() {\n    const {\n      stepIndex,\n      loading,\n      navOpen,\n      smallScreen,\n      confirmationModalOpen,\n      confirmationSnackbarOpen,\n      ...data\n    } = this.state;\n    const contactFormFilled =\n      data.firstName &&\n      data.lastName &&\n      data.phone &&\n      data.email &&\n      data.validPhone &&\n      data.validEmail;\n    const modalActions = [\n      <FlatButton\n        label=\"Cancel\"\n        primary={false}\n        onClick={() => this.setState({ confirmationModalOpen: false })}\n      />,\n      <FlatButton\n        label=\"Confirm\"\n        primary={true}\n        onClick={() => this.handleSubmit()}\n      />,\n    ];\n    return (\n      <div>\n        <AppBar\n          title={data.siteTitle}\n          onLeftIconButtonTouchTap={() => this.handleNavToggle()}\n        />\n        <Drawer\n          docked={false}\n          width={300}\n          open={navOpen}\n          onRequestChange={(navOpen) => this.setState({ navOpen })}\n        >\n          <img\n            src={logo}\n            style={{\n              height: 70,\n              marginTop: 50,\n              marginBottom: 30,\n              marginLeft: \"50%\",\n              transform: \"translateX(-50%)\",\n            }}\n          />\n          <a style={{ textDecoration: \"none\" }} href={this.state.homePageUrl}>\n            <MenuItem>Home</MenuItem>\n          </a>\n          <a style={{ textDecoration: \"none\" }} href={this.state.aboutPageUrl}>\n            <MenuItem>About</MenuItem>\n          </a>\n          <a\n            style={{ textDecoration: \"none\" }}\n            href={this.state.contactPageUrl}\n          >\n            <MenuItem>Contact</MenuItem>\n          </a>\n\n          <MenuItem\n            disabled={true}\n            style={{\n              marginLeft: \"50%\",\n              transform: \"translate(-50%)\",\n            }}\n          >\n            {\"© Copyright \" + moment().format(\"YYYY\")}\n          </MenuItem>\n        </Drawer>\n        <section\n          style={{\n            maxWidth: !smallScreen ? \"80%\" : \"100%\",\n            margin: \"auto\",\n            marginTop: !smallScreen ? 20 : 0,\n          }}\n        >\n          {this.renderConfirmationString()}\n          <Card\n            style={{\n              padding: \"10px 10px 25px 10px\",\n              height: smallScreen ? \"100vh\" : null,\n            }}\n          >\n            <Stepper\n              activeStep={stepIndex}\n              linear={false}\n              orientation=\"vertical\"\n            >\n              <Step disabled={loading}>\n                <StepButton onClick={() => this.setState({ stepIndex: 0 })}>\n                  Choose an available day for your appointment\n                </StepButton>\n                <StepContent>\n                  <DatePicker\n                    style={{\n                      marginTop: 10,\n                      marginLeft: 10,\n                    }}\n                    value={data.appointmentDate}\n                    hintText=\"Select a date\"\n                    mode={smallScreen ? \"portrait\" : \"landscape\"}\n                    onChange={(n, date) => this.handleSetAppointmentDate(date)}\n                    shouldDisableDate={(day) => this.checkDisableDate(day)}\n                  />\n                </StepContent>\n              </Step>\n              <Step disabled={!data.appointmentDate}>\n                <StepButton onClick={() => this.setState({ stepIndex: 1 })}>\n                  Choose an available time for your appointment\n                </StepButton>\n                <StepContent>\n                  <SelectField\n                    floatingLabelText=\"AM or PM\"\n                    value={data.appointmentMeridiem}\n                    onChange={(evt, key, payload) =>\n                      this.handleSetAppointmentMeridiem(payload)\n                    }\n                    selectionRenderer={(value) => (value ? \"PM\" : \"AM\")}\n                  >\n                    <MenuItem value={0}>AM</MenuItem>\n                    <MenuItem value={1}>PM</MenuItem>\n                  </SelectField>\n                  <RadioButtonGroup\n                    style={{ marginTop: 15, marginLeft: 15 }}\n                    name=\"appointmentTimes\"\n                    defaultSelected={data.appointmentSlot}\n                    onChange={(evt, val) => this.handleSetAppointmentSlot(val)}\n                  >\n                    {this.renderAppointmentTimes()}\n                  </RadioButtonGroup>\n                </StepContent>\n              </Step>\n              <Step disabled={!Number.isInteger(this.state.appointmentSlot)}>\n                <StepButton onClick={() => this.setState({ stepIndex: 2 })}>\n                  Share your contact information with us and we'll send you a\n                  reminder\n                </StepButton>\n                <StepContent>\n                  <section>\n                    <TextField\n                      style={{ display: \"block\" }}\n                      name=\"first_name\"\n                      hintText=\"First Name\"\n                      floatingLabelText=\"First Name\"\n                      onChange={(evt, newValue) =>\n                        this.setState({ firstName: newValue })\n                      }\n                    />\n                    <TextField\n                      style={{ display: \"block\" }}\n                      name=\"last_name\"\n                      hintText=\"Last Name\"\n                      floatingLabelText=\"Last Name\"\n                      onChange={(evt, newValue) =>\n                        this.setState({ lastName: newValue })\n                      }\n                    />\n                    <TextField\n                      style={{ display: \"block\" }}\n                      name=\"email\"\n                      hintText=\"name@mail.com\"\n                      floatingLabelText=\"Email\"\n                      errorText={\n                        data.validEmail ? null : \"Enter a valid email address\"\n                      }\n                      onChange={(evt, newValue) => this.validateEmail(newValue)}\n                    />\n                    <TextField\n                      style={{ display: \"block\" }}\n                      name=\"phone\"\n                      hintText=\"(888) 888-8888\"\n                      floatingLabelText=\"Phone\"\n                      errorText={\n                        data.validPhone ? null : \"Enter a valid phone number\"\n                      }\n                      onChange={(evt, newValue) => this.validatePhone(newValue)}\n                    />\n                    <RaisedButton\n                      style={{ display: \"block\" }}\n                      label={\n                        contactFormFilled\n                          ? \"Schedule\"\n                          : \"Fill out your information to schedule\"\n                      }\n                      labelPosition=\"before\"\n                      primary={true}\n                      fullWidth={true}\n                      onClick={() =>\n                        this.setState({\n                          confirmationModalOpen: !this.state\n                            .confirmationModalOpen,\n                        })\n                      }\n                      disabled={!contactFormFilled || data.processed}\n                      style={{ marginTop: 20, maxWidth: 100 }}\n                    />\n                  </section>\n                </StepContent>\n              </Step>\n            </Stepper>\n          </Card>\n          <Dialog\n            modal={true}\n            open={confirmationModalOpen}\n            actions={modalActions}\n            title=\"Confirm your appointment\"\n          >\n            {this.renderAppointmentConfirmation()}\n          </Dialog>\n          <SnackBar\n            open={confirmationSnackbarOpen || loading}\n            message={\n              loading ? \"Loading... \" : data.confirmationSnackbarMessage || \"\"\n            }\n            autoHideDuration={10000}\n            onRequestClose={() =>\n              this.setState({ confirmationSnackbarOpen: false })\n            }\n          />\n        </section>\n      </div>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}