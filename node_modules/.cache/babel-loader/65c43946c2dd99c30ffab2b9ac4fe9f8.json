{"ast":null,"code":"var _jsxFileName = \"/Users/kimberlyzhu/Documents/MeetingGround/src/pages/home.tsx\";\n\n/*users.jsx*/\nimport React from \"react\";\nimport * as config from \"../apiGoogleconfig.json\";\nimport ScheduleEngine from \"./ScheduleEngine\";\nimport styled from \"@emotion/styled\";\nimport gql from \"graphql-tag\";\nimport { Link } from \"react-router-dom\";\nimport NotFoundPage from \"./404\";\nimport logo from \"./img/meetingGroundLogo.png\";\nimport { useQuery } from \"react-apollo\";\nconst HomeDiv = styled.div`\n  display: flex;\n  flex-direction: row;\n  text-align: center;\n  background: white;\n  border-radius: 25px;\n  height: 1000px;\n  justify-content: space-between;\n`;\nconst LogoCard = styled.img`\n  width: 450px;\n  height: 100px;\n  justify-content: space-around;\n  float: left;\n`;\nconst TopFormat = styled.div`\n  margin: 0 auto;\n  width: 100%;\n  overflow: auto;\n  display: inline-block;\n  background: white;\n  border-radius: 25px;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n`;\nconst MainBodyFormat = styled.div`\n  margin: 0 auto;\n  align-items: center;\n  justify-content: center;\n  background: white;\n  display: flex;\n  flex-direction: column;\n  height: 1000px;\n  border-radius: 25px;\n`;\nconst emailExist = gql`\n  query($email: String) {\n    host_email(email: $email) {\n      email\n    }\n  }\n`;\nconst userEmail = {\n  email: \"\"\n};\n\nconst HomePage = props => {\n  const emailId = props.match.params.emailId;\n  userEmail.email = emailId; //WE ONLY SUPPORT @GMAIL.COM\n\n  function handleSignoutClick(event) {\n    gapi.load(\"client:auth2\", () => {\n      gapi.client.init({\n        apiKey: config.config.apiKey,\n        clientId: config.config.clientId,\n        discoveryDocs: config.config.discoveryDocs,\n        scope: config.config.scope\n      }).then(() => {\n        gapi.auth2.getAuthInstance().signOut();\n        props.history.push(\"/\");\n      });\n    });\n  }\n\n  console.log(userEmail.email); // check if the email is in the data database server\n\n  const {\n    loading,\n    error,\n    data\n  } = useQuery(emailExist, {\n    variables: {\n      email: userEmail.email\n    }\n  });\n  return loading ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 5\n    }\n  }, \"loading\") : error ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/404\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 5\n    }\n  }, data.host_email !== null && data.host_email.email === userEmail.email && /*#__PURE__*/React.createElement(\"body\", {\n    style: {\n      background: \"rgba(131, 196, 197)\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: \"1rem\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TopFormat, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(LogoCard, {\n    id: \"logo\",\n    src: logo,\n    alt: \"Meeting Ground Logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"btn btn-danger\",\n    id: \"signout_button\" //onClick={handleSignoutClick}\n    ,\n    style: {\n      height: \"30%\",\n      justifyContent: \"center\",\n      alignContent: \"center\",\n      float: \"right\",\n      margin: 30\n    },\n    onClick: handleSignoutClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 17\n    }\n  }, \"Sign Out\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      justifyContent: \"center\",\n      alignContent: \"center\",\n      display: \"flex\",\n      flexDirection: \"row\",\n      borderTop: \"5px solid grey\",\n      margin: 5\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      // position: \"relative\",\n      margin: 0,\n      // float: \"left\",\n      // left: \"15%\",\n      justifyContent: \"center\",\n      top: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }\n  }, \"Home Page\"))), /*#__PURE__*/React.createElement(MainBodyFormat, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    style: {\n      margin: 25\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 15\n    }\n  }, \"Generate one-time signup links for your guests to schedule a meeting\"), /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      margin: 25\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 15\n    }\n  }, \"After clicking generate, copy and send the link to your guest.\"), /*#__PURE__*/React.createElement(HomeDiv, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ScheduleEngine, {\n    timeLength: 15,\n    emailID: emailId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(ScheduleEngine, {\n    timeLength: 30,\n    emailID: emailId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(ScheduleEngine, {\n    timeLength: 60,\n    emailID: emailId,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 17\n    }\n  }))))), data.host_email === null && /*#__PURE__*/React.createElement(NotFoundPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 36\n    }\n  }));\n};\n\nexport default HomePage;","map":{"version":3,"sources":["/Users/kimberlyzhu/Documents/MeetingGround/src/pages/home.tsx"],"names":["React","config","ScheduleEngine","styled","gql","Link","NotFoundPage","logo","useQuery","HomeDiv","div","LogoCard","img","TopFormat","MainBodyFormat","emailExist","userEmail","email","HomePage","props","emailId","match","params","handleSignoutClick","event","gapi","load","client","init","apiKey","clientId","discoveryDocs","scope","then","auth2","getAuthInstance","signOut","history","push","console","log","loading","error","data","variables","host_email","background","padding","height","justifyContent","alignContent","float","margin","display","flexDirection","borderTop","top"],"mappings":"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","sourcesContent":["/*users.jsx*/\nimport React, { useState } from \"react\";\nimport * as config from \"../apiGoogleconfig.json\";\nimport ScheduleEngine from \"./ScheduleEngine\";\nimport styled from \"@emotion/styled\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport gql from \"graphql-tag\";\nimport { Link } from \"react-router-dom\";\nimport NotFoundPage from \"./404\";\n\nimport logo from \"./img/meetingGroundLogo.png\";\nimport { useQuery } from \"react-apollo\";\n\nconst HomeDiv = styled.div`\n  display: flex;\n  flex-direction: row;\n  text-align: center;\n  background: white;\n  border-radius: 25px;\n  height: 1000px;\n  justify-content: space-between;\n`;\n\nconst LogoCard = styled.img`\n  width: 450px;\n  height: 100px;\n  justify-content: space-around;\n  float: left;\n`;\n\nconst TopFormat = styled.div`\n  margin: 0 auto;\n  width: 100%;\n  overflow: auto;\n  display: inline-block;\n  background: white;\n  border-radius: 25px;\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 10px;\n`;\n\nconst MainBodyFormat = styled.div`\n  margin: 0 auto;\n  align-items: center;\n  justify-content: center;\n  background: white;\n  display: flex;\n  flex-direction: column;\n  height: 1000px;\n  border-radius: 25px;\n`;\n\nconst emailExist = gql`\n  query($email: String) {\n    host_email(email: $email) {\n      email\n    }\n  }\n`;\n\ninterface HomePropsInterface extends RouteComponentProps<{ emailId: string }> {\n  // Other props that belong to component it self not Router\n}\n\nconst userEmail: {\n  email: string;\n} = {\n  email: \"\",\n};\n\nconst HomePage: React.FC<HomePropsInterface> = (props: HomePropsInterface) => {\n  const emailId = props.match.params.emailId;\n  userEmail.email = emailId;\n  //WE ONLY SUPPORT @GMAIL.COM\n\n  function handleSignoutClick(event: any) {\n    gapi.load(\"client:auth2\", () => {\n      gapi.client\n        .init({\n          apiKey: config.config.apiKey,\n          clientId: config.config.clientId,\n          discoveryDocs: config.config.discoveryDocs,\n          scope: config.config.scope,\n        })\n        .then(() => {\n          gapi.auth2.getAuthInstance().signOut();\n          props.history.push(\"/\");\n        });\n    });\n  }\n\n  console.log(userEmail.email);\n  // check if the email is in the data database server\n  const { loading, error, data } = useQuery(emailExist, {\n    variables: { email: userEmail.email },\n  });\n\n  return loading ? (\n    <div>loading</div>\n  ) : error ? (\n    <div>\n      <Link to=\"/404\"></Link>\n    </div>\n  ) : (\n    <div>\n      {data.host_email !== null && data.host_email.email === userEmail.email && (\n        <body style={{ background: \"rgba(131, 196, 197)\" }}>\n          <div style={{ padding: \"1rem\" }}>\n            <TopFormat>\n              <div>\n                <LogoCard id=\"logo\" src={logo} alt=\"Meeting Ground Logo\" />\n\n                <button\n                  className=\"btn btn-danger\"\n                  id=\"signout_button\"\n                  //onClick={handleSignoutClick}\n                  style={{\n                    height: \"30%\",\n                    justifyContent: \"center\",\n                    alignContent: \"center\",\n                    float: \"right\",\n                    margin: 30,\n                  }}\n                  onClick={handleSignoutClick}\n                >\n                  Sign Out\n                </button>\n              </div>\n\n              <div\n                style={{\n                  justifyContent: \"center\",\n                  alignContent: \"center\",\n                  display: \"flex\",\n                  flexDirection: \"row\",\n                  borderTop: \"5px solid grey\",\n                  margin: 5,\n                }}\n              >\n                <h1\n                  style={{\n                    // position: \"relative\",\n                    margin: 0,\n                    // float: \"left\",\n                    // left: \"15%\",\n                    justifyContent: \"center\",\n                    top: 20,\n                  }}\n                >\n                  Home Page\n                </h1>\n              </div>\n            </TopFormat>\n\n            <MainBodyFormat>\n              <h2\n                style={{\n                  margin: 25,\n                }}\n              >\n                Generate one-time signup links for your guests to schedule a\n                meeting\n              </h2>\n              <h3\n                style={{\n                  margin: 25,\n                }}\n              >\n                After clicking generate, copy and send the link to your guest.\n              </h3>\n              <HomeDiv>\n                <ScheduleEngine timeLength={15} emailID={emailId} />\n                <ScheduleEngine timeLength={30} emailID={emailId} />\n                <ScheduleEngine timeLength={60} emailID={emailId} />\n              </HomeDiv>\n            </MainBodyFormat>\n          </div>\n        </body>\n      )}\n      {data.host_email === null && <NotFoundPage />}\n    </div>\n  );\n};\n\nexport default HomePage;\n"]},"metadata":{},"sourceType":"module"}